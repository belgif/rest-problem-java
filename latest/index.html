<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>belgif-rest-problem</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<style>
.hidden {
	display: none;
}

.switch {
	border-width: 1px 1px 0 1px;
	border-style: solid;
	border-color: #7a2518;
	display: inline-block;
}

.switch--item {
	padding: 10px;
	background-color: #ffffff;
	color: #7a2518;
	display: inline-block;
	cursor: pointer;
}

.switch--item:not(:first-child) {
	border-width: 0 0 0 1px;
	border-style: solid;
	border-color: #7a2518;
}

.switch--item.selected {
	background-color: #7a2519;
	color: #ffffff;
}

</style>
<script type="text/javascript">
function addBlockSwitches() {
	for (var primary of document.querySelectorAll('.primary')) {
		var switchItem = createSwitchItem(primary, createBlockSwitch(primary));
		switchItem.item.classList.add("selected");
		var title = primary.querySelector('.title')
		title.remove();
	}
	for (var secondary of document.querySelectorAll('.secondary')) {
		var primary = findPrimary(secondary);
		if (primary === null) {
			console.error("Found secondary block with no primary sibling");
		}
		else {
			var switchItem = createSwitchItem(secondary, primary.querySelector('.switch'));
			switchItem.content.classList.add("hidden");
			primary.append(switchItem.content);
			secondary.remove();
		}
	}
}

function createElementFromHtml(html) {
	var template = document.createElement('template');
    template.innerHTML = html;
    return template.content.firstChild;
}

function createBlockSwitch(primary) {
    var blockSwitch = createElementFromHtml('<div class="switch"></div>');
    primary.prepend(blockSwitch)
	return blockSwitch;
}

function findPrimary(secondary) {
	var candidate = secondary.previousElementSibling;
	while (candidate != null && !candidate.classList.contains('primary')) {
		candidate = candidate.previousElementSibling;
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	var blockName = block.querySelector('.title').textContent;
	var content = block.querySelectorAll('.content').item(0);
	var colist = nextSibling(block, '.colist');
	if (colist != null) {
		content.append(colist);
	}
	var item = createElementFromHtml('<div class="switch--item">' + blockName + '</div>');
	item.dataset.blockName = blockName;
	content.dataset.blockName = blockName;
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

function nextSibling(element, selector) {
	var sibling = element.nextElementSibling;
	while (sibling) {
		if (sibling.matches(selector)) {
			return sibling;
		}
		sibling = sibling.nextElementSibling;
	}
}

function globalSwitch() {
	document.querySelectorAll(".switch--item").forEach(function(item) {
		var blockId = blockIdForSwitchItem(item);
		var handler = function(event) {
			selectedText = event.target.textContent;
			window.localStorage.setItem(blockId, selectedText);
			for (var switchItem of document.querySelectorAll(".switch--item")) {
				if (blockIdForSwitchItem(switchItem) === blockId && switchItem.textContent === selectedText) {
					select(switchItem);
				}
			}
		}
		item.addEventListener("click", handler);
		if (item.textContent === window.localStorage.getItem(blockId)) {
			select(item);
		}
	});
}

function select(selected) {
	for (var child of selected.parentNode.children) {
		child.classList.remove("selected");
	}
	selected.classList.add("selected");
	for (var child of selected.parentNode.parentNode.children) {
		if (child.classList.contains("content")) {
			if (selected.dataset.blockName === child.dataset.blockName) {
				child.classList.remove("hidden");
			}
			else {
				child.classList.add("hidden");
			}
		}
	}	
}

function blockIdForSwitchItem(item) {
	idComponents = []
	for (var switchItem of item.parentNode.querySelectorAll(".switch--item")) {
		idComponents.push(switchItem.textContent.toLowerCase());
	}
	return idComponents.sort().join("-")
}

window.onload = function() {
	addBlockSwitches();
	globalSwitch();
};

</script>

</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>belgif-rest-problem</h1>
<div class="details">
<span id="revnumber">version latest</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_context">1. Context</a></li>
<li><a href="#_release_notes">2. Release notes</a>
<ul class="sectlevel2">
<li><a href="#_version_0_11">2.1. Version 0.11</a></li>
<li><a href="#_version_0_10">2.2. Version 0.10</a></li>
<li><a href="#_version_0_9">2.3. Version 0.9</a></li>
<li><a href="#_version_0_8">2.4. Version 0.8</a></li>
<li><a href="#_version_0_7">2.5. Version 0.7</a></li>
<li><a href="#_older_versions">2.6. Older versions</a></li>
</ul>
</li>
<li><a href="#getting-started">3. Getting started</a>
<ul class="sectlevel2">
<li><a href="#dependencies">3.1. Dependencies</a></li>
<li><a href="#getting-started-usage">3.2. Usage</a></li>
<li><a href="#getting-started-spring-boot">3.3. Spring Boot</a></li>
<li><a href="#getting-started-jakarta-ee">3.4. Jakarta EE</a></li>
<li><a href="#code-generators">3.5. Code generators</a></li>
</ul>
</li>
<li><a href="#problems">4. Problems</a>
<ul class="sectlevel2">
<li><a href="#belgif-problem-types">4.1. Belgif problem types</a></li>
<li><a href="#custom-problem-types">4.2. Custom problem types</a></li>
</ul>
</li>
<li><a href="#belgif-rest-problem-validator">5. belgif-rest-problem-validator</a></li>
<li><a href="#implementation-details">6. Implementation details</a>
<ul class="sectlevel2">
<li><a href="#problem-type-registry">6.1. @ProblemType and ProblemTypeRegistry</a></li>
<li><a href="#belgif-rest-problem-java-ee">6.2. belgif-rest-problem-java-ee</a></li>
<li><a href="#belgif-rest-problem-spring">6.3. belgif-rest-problem-spring</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_context"><a class="anchor" href="#_context"></a>1. Context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is a Java library for working with <a href="https://www.belgif.be/specification/rest/api-guide/#error-handling">RFC 9457 standardized Belgif problems</a>.</p>
</div>
<div class="paragraph">
<p>With this library, RFC 9457 Problems can be <strong>automagically</strong> treated as standard java exceptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the server side can throw <code>io.github.belgif.rest.problem.api.Problem</code> exceptions (or subclasses), which are transparently converted to RFC 9457 compliant "application/problem+json" responses</p>
</li>
<li>
<p>the client side can catch <code>io.github.belgif.rest.problem.api.Problem</code> exceptions (or subclasses), which are transparently thrown when an RFC 9457 compliant "application/problem+json" response is received</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The library consists of these modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>belgif-rest-problem</strong>: library for RFC 9457 standardized Belgif problems</p>
</li>
<li>
<p><strong>belgif-rest-problem-java-ee</strong>: Java EE / Jakarta EE integration for belgif-rest-problem</p>
</li>
<li>
<p><strong>belgif-rest-problem-spring-boot-2</strong>: Spring Boot 2.x integration for belgif-rest-problem</p>
</li>
<li>
<p><strong>belgif-rest-problem-spring-boot-3</strong>: Spring Boot 3.x integration for belgif-rest-problem</p>
</li>
<li>
<p><strong>belgif-rest-problem-validator</strong>: validation library that generates Belgif-compliant BadRequestProblem with InputValidationIssues</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_notes"><a class="anchor" href="#_release_notes"></a>2. Release notes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_version_0_11"><a class="anchor" href="#_version_0_11"></a>2.1. Version 0.11</h3>
<div class="paragraph">
<p><strong>belgif-rest-problem:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add in(Input&lt;?&gt;) to InputValidationIssue for a fluent single input setter</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>belgif-rest-problem-spring:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fix non-deterministic configuration for retrieving parameter names from Spring MVC annotations</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_0_10"><a class="anchor" href="#_version_0_10"></a>2.2. Version 0.10</h3>
<div class="paragraph">
<p><strong>belgif-rest-problem:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove @ApplicationException annotation on Problem, because it could potentially cause compilation errors when used in combination with annotation processors</p>
</li>
<li>
<p>Disallow creation of InputValidationIssue with inputs[] of size 1</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Potentially breaking:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>removed <code>InputValidationIssue.setInputs(List&lt;Input&lt;?&gt;&gt; inputs)</code></p>
</li>
<li>
<p>removed <code>InputValidationIssue.setInputs(Input&lt;?&gt;&#8230;&#8203; inputs)</code></p>
</li>
<li>
<p>removed <code>InputValidationIssue.input(Input&lt;?&gt; input)</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>belgif-rest-problem-java-ee:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add EJBExceptionMapper that unwraps Problem cause, to address the removed @ApplicationException annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>belgif-rest-problem-spring:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Added support for InvalidRequestException thrown by the <a href="https://bitbucket.org/atlassian/swagger-request-validator">Atlassian swagger-request-validator</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_0_9"><a class="anchor" href="#_version_0_9"></a>2.3. Version 0.9</h3>
<div class="paragraph">
<p><strong>belgif-rest-problem-bom:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Added Maven BOM (Bill of Materials) for dependency versions of belgif-rest-problem modules</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>belgif-rest-problem:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add <a href="https://www.rfc-editor.org/rfc/rfc6750#section-3">WWW-Authenticate</a> HTTP response header to token-related problem types</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>belgif-rest-problem-java-ee:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure ProblemClientResponseFilter gets registered for JAX-RS clients</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_0_8"><a class="anchor" href="#_version_0_8"></a>2.4. Version 0.8</h3>
<div class="paragraph">
<p><strong>belgif-rest-problem-spring:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Map HttpRequestMethodNotSupportedException to HTTP 405 "Method Not Allowed" + Allow HTTP header</p>
</li>
<li>
<p>Map HttpMediaTypeNotAcceptableException to HTTP 406 "Not Acceptable"</p>
</li>
<li>
<p>Map HttpMediaTypeNotSupportedException to HTTP 415 "Unsupported Media Type"</p>
</li>
<li>
<p>Sanitize BadRequestProblem detail message for HttpMessageNotReadableException</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_0_7"><a class="anchor" href="#_version_0_7"></a>2.5. Version 0.7</h3>
<div class="paragraph">
<p><strong>belgif-rest-problem-validator:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make RequestValidator <a href="#extending-request-validator">extensible</a> by introducing AbstractRequestValidator base class</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>belgif-rest-problem-spring:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extract ProblemWebClientCustomizer to belgif-rest-problem-spring-boot-2 and belgif-rest-problem-spring-boot-3 to fix NoSuchMethodError compatibility issue</p>
</li>
<li>
<p>Add AnnotationParameterNameDiscoverer to retrieve parameter names from Spring MVC annotations for bean validation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>belgif-rest-problem-java-ee:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add JaxRsParameterNameProvider to retrieve parameter names from JAX-RS annotations for bean validation</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_older_versions"><a class="anchor" href="#_older_versions"></a>2.6. Older versions</h3>
<div class="paragraph">
<p>See <a href="release-notes.html">Release Notes</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>3. Getting started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="dependencies"><a class="anchor" href="#dependencies"></a>3.1. Dependencies</h3>
<div class="sect3">
<h4 id="dependencies-spring-boot"><a class="anchor" href="#dependencies-spring-boot"></a>3.1.1. Spring Boot</h4>
<div class="listingblock primary">
<div class="title">Spring Boot 3 (Maven)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>io.github.belgif.rest.problem<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>belgif-rest-problem-spring-boot-3<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>latest<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Spring Boot 3 (Gradle)</div>
<div class="content">
<pre class="CodeRay highlight"><code>compile 'io.github.belgif.rest.problem:belgif-rest-problem-spring-boot-3:latest'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Spring Boot 2 (Maven)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>io.github.belgif.rest.problem<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>belgif-rest-problem-spring-boot-2<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>latest<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Spring Boot 2 (Gradle)</div>
<div class="content">
<pre class="CodeRay highlight"><code>compile 'io.github.belgif.rest.problem:belgif-rest-problem-spring-boot-2:latest'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="dependencies-jakarta-ee"><a class="anchor" href="#dependencies-jakarta-ee"></a>3.1.2. Jakarta EE</h4>
<div class="listingblock primary">
<div class="title">Jakarta EE 9+ (Maven)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>io.github.belgif.rest.problem<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>belgif-rest-problem-java-ee<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>latest<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;classifier&gt;</span>jakarta<span class="tag">&lt;/classifier&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Jakarta EE 9+ (Gradle)</div>
<div class="content">
<pre class="CodeRay highlight"><code>compile 'io.github.belgif.rest.problem:belgif-rest-problem-java-ee:latest:jakarta'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Java EE 8- (Maven)</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>io.github.belgif.rest.problem<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>belgif-rest-problem-java-ee<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>latest<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Java EE 8- (Gradle)</div>
<div class="content">
<pre class="CodeRay highlight"><code>compile 'io.github.belgif.rest.problem:belgif-rest-problem-java-ee:latest'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-usage"><a class="anchor" href="#getting-started-usage"></a>3.2. Usage</h3>
<div class="paragraph">
<p>At the core of this library lies an <a href="#belgif-problem-types">exception hierarchy</a> of Belgif-standardized problem types, with the possibility to define your own <a href="#custom-problem-types">custom problem types</a>.
Integration with Spring Boot and Jakarta EE works out of the box.</p>
</div>
<div class="sect3">
<h4 id="_returning_a_problem_from_a_rest_api"><a class="anchor" href="#_returning_a_problem_from_a_rest_api"></a>3.2.1. Returning a problem from a REST API</h4>
<div class="paragraph">
<p>When implementing a REST API, returning a problem is as simple as throwing the problem exception from your application code:</p>
</div>
<div class="listingblock">
<div class="title">Throwing a problem</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">throw</span> <span class="keyword">new</span> BadRequestProblem(
        <span class="keyword">new</span> InputValidationIssue(InEnum.PATH, <span class="string"><span class="delimiter">&quot;</span><span class="content">sectorCode</span><span class="delimiter">&quot;</span></span>, sectorCode)
                .title(<span class="string"><span class="delimiter">&quot;</span><span class="content">Invalid sector code</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_catching_problems_when_calling_a_rest_api"><a class="anchor" href="#_catching_problems_when_calling_a_rest_api"></a>3.2.2. Catching problems when calling a REST API</h4>
<div class="paragraph">
<p>When calling a REST API, handling a problem is as simple as catching the problem exception in your application code:</p>
</div>
<div class="listingblock">
<div class="title">Handling a problem on the client</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">try</span> {
    api.someOperation();
} <span class="keyword">catch</span> (BadRequestProblem p) {
    <span class="predefined-type">String</span> detail = p.getDetail();
    <span class="predefined-type">List</span>&lt;InputValidationIssue&gt; issues = p.getIssues();
    <span class="comment">// handle the BadRequestProblem</span>
} <span class="keyword">catch</span> (ResourceNotFoundProblem p) {
    <span class="predefined-type">String</span> detail = p.getDetail();
    <span class="predefined-type">List</span>&lt;InputValidationIssue&gt; issues = p.getIssues();
    <span class="comment">// handle the ResourceNotFoundProblem</span>
} <span class="keyword">catch</span> (Problem e) {
    <span class="comment">// handle all other problems</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the REST API returns a problem type for which you do not have a corresponding <code>@ProblemType</code> on your classpath, a <a href="apidocs/io/github/belgif/rest/problem/DefaultProblem.html">DefaultProblem</a> is thrown instead as fallback.
See <a href="#problem-type-registry">@ProblemType and ProblemTypeRegistry</a> for more details.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-spring-boot"><a class="anchor" href="#getting-started-spring-boot"></a>3.3. Spring Boot</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As of version 6.0, Spring Framework also contains basic integration for RFC 9475 problem types.<br>
This is disabled by default, and MUST NOT be enabled.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.spring.io/spring-boot/reference/web/servlet.html#web.servlet.spring-mvc.error-handling">spring.mvc.problemdetails.enabled</a>=false</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-boot/reference/web/reactive.html#web.reactive.webflux.error-handling">spring.webflux.problemdetails.enabled</a>=false</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_restcontroller"><a class="anchor" href="#_restcontroller"></a>3.3.1. RestController</h4>
<div class="paragraph">
<p>Problem exceptions and framework exceptions thrown by RestController components are automatically converted to a proper RFC 9457 <code>application/problem+json</code> response.</p>
</div>
<div class="sect4">
<h5 id="_bean_validation"><a class="anchor" href="#_bean_validation"></a>Bean validation</h5>
<div class="paragraph">
<p>Exceptions thrown by the Java Bean Validation Framework are automatically converted to a proper RFC 9457 <code>application/problem+json</code> response.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
When using a Spring MVC annotation without name (e.g. <code>@RequestParam String name</code> instead of <code>@RequestParam("name") String name</code>), the parameter name for Bean Validation errors is retrieved via reflection as fallback.
For this to work, your application code must be compiled with the <a href="https://docs.oracle.com/en/java/javase/21/docs/specs/man/javac.html#option-parameters">-parameters</a> flag (see <a href="https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#parameters">maven-compiler-plugin</a>).
Otherwise, you will see parameter names like <code>arg0</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_atlassian_swagger_request_validator"><a class="anchor" href="#_atlassian_swagger_request_validator"></a>Atlassian swagger-request-validator</h5>
<div class="paragraph">
<p>InvalidRequestExceptions thrown by the <a href="https://bitbucket.org/atlassian/swagger-request-validator">Atlassian swagger-request-validator</a> are automatically converted to a proper RFC 9457 <code>application/problem+json</code> response.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Spring Boot 3, use <a href="https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-spring-webmvc">swagger-request-validator-spring-webmvc</a>.</p>
</li>
<li>
<p>For Spring Boot 2, use <a href="https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-springmvc">swagger-request-validator-springmvc</a>.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
On Spring Boot 2, <code>validation.request.path.missing</code> should be set to level IGNORE in order to return a 404 error for a missing path.
See <a href="https://bitbucket.org/atlassian/swagger-request-validator/src/master/swagger-request-validator-core/README.md">documentation</a> of the Atlassian library for more information.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_resttemplate"><a class="anchor" href="#_resttemplate"></a>3.3.2. RestTemplate</h4>
<div class="paragraph">
<p>Problem support is automatically enabled when constructing your RestTemplate through an autowired <a href="https://docs.spring.io/spring-boot/api/java/org/springframework/boot/web/client/RestTemplateBuilder.html">RestTemplateBuilder</a>.</p>
</div>
<div class="paragraph">
<p>When manually constructing a RestTemplate instance, you&#8217;ll need to apply the <a href="apidocs/io/github/belgif/rest/problem/spring/ProblemRestTemplateCustomizer.html">ProblemRestTemplateCustomizer</a> yourself.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reactive_webclient"><a class="anchor" href="#_reactive_webclient"></a>3.3.3. Reactive WebClient</h4>
<div class="paragraph">
<p>Problem support is automatically enabled when constructing your WebClient through an autowired <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html">WebClient.Builder</a>.</p>
</div>
<div class="paragraph">
<p>When manually constructing a WebClient instance, you&#8217;ll need to apply the <a href="apidocs/io/github/belgif/rest/problem/spring/ProblemWebClientCustomizer.html">ProblemWebClientCustomizer</a> yourself.</p>
</div>
</div>
<div class="sect3">
<h4 id="_restclient"><a class="anchor" href="#_restclient"></a>3.3.4. RestClient</h4>
<div class="paragraph">
<p>Problem support is automatically enabled when constructing your RestClient through an autowired <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClient.Builder.html">RestClient.Builder</a>.</p>
</div>
<div class="paragraph">
<p>When manually constructing a RestClient instance, you&#8217;ll need to apply the <a href="apidocs/io/github/belgif/rest/problem/spring/ProblemRestClientCustomizer.html">ProblemRestClientCustomizer</a> yourself.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-jakarta-ee"><a class="anchor" href="#getting-started-jakarta-ee"></a>3.4. Jakarta EE</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While this library may work on other application servers, it has only been thoroughly tested on <strong>JBoss EAP 7.4</strong> (with MicroProfile XP 4.0) and <strong>WildFly 31</strong>.</p>
</div>
<div class="paragraph">
<p>Furthermore, the following dependencies are expected to be <strong>"provided"</strong> by the application server.
If not, you&#8217;ll need to add these dependencies to your application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>com.fasterxml.jackson.core:jackson-databind</p>
</li>
<li>
<p>org.slf4j:slf4j-api</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_jax_rs_service"><a class="anchor" href="#_jax_rs_service"></a>3.4.1. JAX-RS service</h4>
<div class="paragraph">
<p>Problem exceptions and framework exceptions (including bean validation) thrown by JAX-RS service components are automatically converted to a proper RFC 9457 <code>application/problem+json</code> response.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jax_rs_client"><a class="anchor" href="#_jax_rs_client"></a>3.4.2. JAX-RS client</h4>
<div class="paragraph">
<p>Problem support is automatically enabled for <code>@Inject</code>-ed <code>javax.ws.rs.client.Client(Builder)</code>.</p>
</div>
<div class="paragraph">
<p>When manually constructing a JAX-RS client instance, you&#8217;ll need to wrap it yourself with <code>client = ProblemSupport.enable(client)</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
JAX-RS async and reactive client API are <a href="https://github.com/belgif/rest-problem-java/issues/42">not fully supported</a> yet.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_microprofile_rest_client"><a class="anchor" href="#_microprofile_rest_client"></a>3.4.3. MicroProfile REST Client</h4>
<div class="paragraph">
<p>Problem support is automatically enabled for MicroProfile REST Client.</p>
</div>
</div>
<div class="sect3">
<h4 id="_resteasy_proxy_framework"><a class="anchor" href="#_resteasy_proxy_framework"></a>3.4.4. RESTEasy Proxy Framework</h4>
<div class="paragraph">
<p>Problem support must be manually enabled for <a href="https://docs.jboss.org/resteasy/docs/6.2.10.Final/userguide/#_client_proxies">RESTEasy Proxy Framework</a> by wrapping the proxy with <code>client = ProblemSupport.enable(client)</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="code-generators"><a class="anchor" href="#code-generators"></a>3.5. Code generators</h3>
<div class="paragraph">
<p>Code generators should be configured to use the belgif-rest-problem types for problem-related model classes, instead of generating them.</p>
</div>
<div class="sect3">
<h4 id="openapi-generator-maven-plugin"><a class="anchor" href="#openapi-generator-maven-plugin"></a>3.5.1. openapi-generator-maven-plugin</h4>
<div class="paragraph">
<p>When using <a href="https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin">openapi-generator-maven-plugin</a>, configure <code>&lt;schemaMappings&gt;</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;schemaMappings&gt;</span>
  Problem=io.github.belgif.rest.problem.api.Problem,
  InputValidationProblem=io.github.belgif.rest.problem.api.InputValidationProblem,
  InputValidationIssue=io.github.belgif.rest.problem.api.InputValidationIssue,
  InvalidParamProblem=io.github.belgif.rest.problem.api.InputValidationProblem,
  InvalidParam=io.github.belgif.rest.problem.api.InvalidParam
<span class="tag">&lt;/schemaMappings&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="swagger-codegen-maven-plugin"><a class="anchor" href="#swagger-codegen-maven-plugin"></a>3.5.2. swagger-codegen-maven-plugin</h4>
<div class="paragraph">
<p>When using <a href="https://github.com/swagger-api/swagger-codegen/tree/3.0.0/modules/swagger-codegen-maven-plugin">swagger-codegen-maven-plugin</a>, configure <code>&lt;importMappings&gt;</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;importMappings&gt;</span>
  Problem=io.github.belgif.rest.problem.api.Problem,
  InputValidationProblem=io.github.belgif.rest.problem.api.InputValidationProblem,
  InputValidationIssue=io.github.belgif.rest.problem.api.InputValidationIssue,
  InvalidParamProblem=io.github.belgif.rest.problem.api.InputValidationProblem,
  InvalidParam=io.github.belgif.rest.problem.api.InvalidParam
<span class="tag">&lt;/importMappings&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="problems"><a class="anchor" href="#problems"></a>4. Problems</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://www.belgif.be/specification/rest/api-guide/#error-handling">Belgif REST Guidelines</a> define a standard error handling approach, based on <a href="https://www.rfc-editor.org/rfc/rfc9457">RFC 9457 "Problem Details for HTTP APIs"</a>.</p>
</div>
<div class="paragraph">
<p>The <code>belgif-rest-problem</code> library implements these standardized problem types as an exception hierarchy, with an abstract
<a href="apidocs/io/github/belgif/rest/problem/api/Problem.html"><code>io.github.belgif.rest.problem.api.Problem</code></a> base class (containing the standardized "type", "href", "title", "status", "detail" and "instance" properties).</p>
</div>
<div class="listingblock">
<div class="content">
<pre><em>Problem</em>
├── <em>ClientProblem</em> (4xx)
|   └── <em>InputValidationProblem</em> 1..* InputValidationIssue
├── <em>ServerProblem</em> (5xx)
└── DefaultProblem (fallback)</pre>
</div>
</div>
<div class="sect2">
<h3 id="belgif-problem-types"><a class="anchor" href="#belgif-problem-types"></a>4.1. Belgif problem types</h3>
<div class="paragraph">
<p>The package <code>io.github.belgif.rest.problem</code>
contains all problem types defined in the <a href="https://www.belgif.be/specification/rest/api-guide/#standardized-problem-types">Belgif REST Guidelines</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><em>Problem</em>
├── <em>ClientProblem</em> (4xx)
|   ├── <em>InputValidationProblem</em> 1..* InputValidationIssue
|   |   ├── <strong>BadRequestProblem</strong> (400)
|   |   ├── <strong>MissingPermissionProblem</strong> (403)
|   |   └── <strong>ResourceNotFoundProblem</strong> (404)
|   ├── <strong>ExpiredAccessTokenProblem</strong> (401)
|   ├── <strong>InvalidAccessTokenProblem</strong> (401)
|   ├── <strong>NoAccessTokenProblem</strong> (401)
|   ├── <strong>MissingScopeProblem</strong> (403)
|   ├── <strong>PayloadTooLargeProblem</strong> (413)
|   ├── <strong>TooManyRequestsProblem</strong> (429)
|   └── <strong>TooManyFailedRequestsProblem</strong> (429)
└── <em>ServerProblem</em> (5xx)
    ├── <strong>InternalServerErrorProblem</strong> (500)
    ├── <strong>BadGatewayProblem</strong> (502)
    └── <strong>ServiceUnavailableProblem</strong> (503)</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The <code>BadRequestProblem</code> is backwards compatible with the deprecated <code>InvalidParamProblem</code> <em>(with invalidParams[] instead of issues[])</em> of openapi-problem 1.1.</p>
</li>
<li>
<p>Besides the standard in/name/value properties for referencing a single input, the <code>InputValidationIssue</code> class also supports an inputs[] array for referencing multiple in/name/value inputs.
This is <a href="https://github.com/belgif/rest-guide/issues/108">not currently standardized</a>.</p>
</li>
<li>
<p><code>MissingPermissionProblem</code> extending InputValidationProblem is <a href="https://github.com/belgif/rest-guide/issues/114">not currently standardized</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="custom-problem-types"><a class="anchor" href="#custom-problem-types"></a>4.2. Custom problem types</h3>
<div class="paragraph">
<p>Besides the standardized Belgif problem types, custom problem types can also be defined.</p>
</div>
<div class="paragraph">
<p>The <a href="https://www.belgif.be/specification/rest/api-guide/#rule-prb-type">naming convention</a> should be respected for custom problem type URIs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>urn:problem-type:&lt;org&gt;:&lt;type&gt;</code> for organization-wide problem types</p>
</li>
<li>
<p><code>urn:problem-type:&lt;org&gt;:&lt;api&gt;:&lt;type&gt;</code> for API-local problem types</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Implementing an API-local custom problem type</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ProblemType</span>(TooManyResultsProblem.TYPE)
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">TooManyResultsProblem</span> <span class="directive">extends</span> ClientProblem {

    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> TYPE = <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:cbss:legallog:tooManyResults</span><span class="delimiter">&quot;</span></span>;
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">URI</span> TYPE_URI = <span class="predefined-type">URI</span>.create(TYPE);
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">URI</span> HREF =
            <span class="predefined-type">URI</span>.create(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://api.ksz-bcss.fgov.be/legallog/v1/refData/problemTypes/</span><span class="delimiter">&quot;</span></span> + TYPE);
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> TITLE = <span class="string"><span class="delimiter">&quot;</span><span class="content">Too Many Results</span><span class="delimiter">&quot;</span></span>;
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> STATUS = <span class="integer">400</span>;

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;

    <span class="directive">public</span> TooManyResultsProblem() {
        <span class="local-variable">super</span>(TYPE_URI, HREF, TITLE, STATUS);
        setDetail(<span class="string"><span class="delimiter">&quot;</span><span class="content">Result's number of global transactions exceeds the limit</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="directive">public</span> TooManyResultsProblem(<span class="type">int</span> limit) {
        <span class="local-variable">this</span>();
        setDetail(<span class="string"><span class="delimiter">&quot;</span><span class="content">Result's number of global transactions exceeds the limit of </span><span class="delimiter">&quot;</span></span> + limit);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Your custom problem type can define additional properties if necessary.
For problem types related to input parameters, you can extend from <code>InputValidationProblem</code> instead of <code>Problem</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Don&#8217;t forget to add the <code>@ProblemType</code> annotation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>On <strong>Jakarta EE</strong> containers, custom problem types are discovered automagically through CDI.</p>
</div>
<div class="paragraph">
<p>On <strong>Spring Boot</strong>, only package <code>io.github.belgif.rest.problem</code> is scanned for @ProblemType annotations.<br>
Additional packages to scan can be configured in your application.properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">io.github.belgif.rest.problem.scan-additional-problem-packages=com.acme.custom</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="belgif-rest-problem-validator"><a class="anchor" href="#belgif-rest-problem-validator"></a>5. belgif-rest-problem-validator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>io.github.belgif.rest.problem.validation.RequestValidator</code> can be used to perform validations on the input parameters of an API request.
This validation does not stop on the first invalid input.
It performs all configured validations and if any of them failed, a <code>BadRequestProblem</code> is thrown, containing each encountered <code>InputValidationIssue</code>.</p>
</div>
<div class="listingblock">
<div class="title">RequestValidator</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// example for an API resource with query parameters:</span>
<span class="comment">// ssin, enterpriseNumber, startDate, endDate and password</span>
<span class="keyword">new</span> RequestValidator()
        .ssin(Input.query(<span class="string"><span class="delimiter">&quot;</span><span class="content">ssin</span><span class="delimiter">&quot;</span></span>, ssin)) <i class="conum" data-value="1"></i><b>(1)</b>
        .enterpriseNumber(Input.query(<span class="string"><span class="delimiter">&quot;</span><span class="content">enterpriseNumber</span><span class="delimiter">&quot;</span></span>, enterpriseNumber)) <i class="conum" data-value="2"></i><b>(2)</b>
        .period(Input.query(<span class="string"><span class="delimiter">&quot;</span><span class="content">startDate</span><span class="delimiter">&quot;</span></span>, startDate), Input.query(<span class="string"><span class="delimiter">&quot;</span><span class="content">endDate</span><span class="delimiter">&quot;</span></span>, endDate)) <i class="conum" data-value="3"></i><b>(3)</b>
        .exactlyOneOf(Input.query(<span class="string"><span class="delimiter">&quot;</span><span class="content">ssin</span><span class="delimiter">&quot;</span></span>, ssin),
                Input.query(<span class="string"><span class="delimiter">&quot;</span><span class="content">enterpriseNumber</span><span class="delimiter">&quot;</span></span>, enterpriseNumber)) <i class="conum" data-value="4"></i><b>(4)</b>
        .custom(() -&gt; { <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="comment">// custom validation logic returning Optional&lt;InputValidationIssue&gt;</span>
            <span class="keyword">if</span> (!<span class="string"><span class="delimiter">&quot;</span><span class="content">secret</span><span class="delimiter">&quot;</span></span>.equals(password)) {
                <span class="keyword">return</span> Optional.of(<span class="keyword">new</span> InputValidationIssue(InEnum.QUERY, <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>, password)
                        .type(<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:cbss:input-validation:example:invalidPassword</span><span class="delimiter">&quot;</span></span>)
                        .title(<span class="string"><span class="delimiter">&quot;</span><span class="content">Invalid password</span><span class="delimiter">&quot;</span></span>));
            }
            <span class="keyword">return</span> Optional.empty();
        })
        .validate(); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>validate SSIN structure</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>validate enterprise number structure</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>validate endDate &gt;= startDate</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>cross-parameter validation: either ssin or enterprise number should be present, but not both</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>custom validations are also supported</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>perform the configured validations, throws <code>BadRequestProblem</code> if any validations failed</td>
</tr>
</table>
</div>
<details>
<summary class="title"><strong>Example BadRequestProblem</strong> for invalid request <code>/resource?ssin=00000000000&amp;enterpriseNumber=1111111111&amp;startDate=2023-12-31&amp;endDate=2023-01-01&amp;password=oops</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:belgif:badRequest</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.belgif.be/specification/rest/api-guide/problems/badRequest.html</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bad Request</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">status</span><span class="delimiter">&quot;</span></span>: <span class="integer">400</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">detail</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">The input message is incorrect</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">issues</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:cbss:input-validation:invalidStructure</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Input value has invalid structure</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">detail</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">SSIN 11111111111 is invalid</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">in</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ssin</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">11111111111</span><span class="delimiter">&quot;</span></span>
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:cbss:input-validation:invalidStructure</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Input value has invalid structure</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">detail</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Enterprise number 2222222222 is invalid</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">in</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">enterpriseNumber</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2222222222</span><span class="delimiter">&quot;</span></span>
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:cbss:input-validation:invalidPeriod</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Period is invalid</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">detail</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">endDate should not preceed startDate</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">inputs</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">in</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">startDate</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2023-12-31</span><span class="delimiter">&quot;</span></span>
        },
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">in</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">endDate</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2023-01-01</span><span class="delimiter">&quot;</span></span>
        }
      ]
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:cbss:input-validation:exactlyOneOfExpected</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Exactly one of these inputs must be present</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">detail</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Exactly one of these inputs must be present: ssin, enterpriseNumber</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">inputs</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">in</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ssin</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">11111111111</span><span class="delimiter">&quot;</span></span>
        },
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">in</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">enterpriseNumber</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2222222222</span><span class="delimiter">&quot;</span></span>
        }
      ]
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:problem-type:cbss:input-validation:example:invalidPassword</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Invalid password</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">in</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">oops</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
</div>
</details>
<h3 id="extending-request-validator" class="discrete">Extending the RequestValidator</h3>
<div class="paragraph">
<p>You may have a need to extend the RequestValidator with custom organization- or domain-specific validations.<br>
This is possible by extending the AbstractRequestValidator base class.</p>
</div>
<div class="paragraph">
<p>If in turn, you want your own validator implementation to be extensible as well, you can propagate the extensible fluent builder pattern as follows:</p>
</div>
<div class="listingblock">
<div class="title">Extensible request validator</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"> <span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">AbstractMyRequestValidator</span>&lt;SELF <span class="directive">extends</span> AbstractMyRequestValidator&lt;SELF&gt;&gt;
         <span class="directive">extends</span> AbstractRequestValidator&lt;SELF&gt; {

     <span class="directive">public</span> SELF something(Input&lt;<span class="predefined-type">String</span>&gt; input) {
         addValidator(<span class="keyword">new</span> SomethingValidator(input));
         <span class="keyword">return</span> getThis();
     }

 }

 <span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">MyRequestValidator</span> <span class="directive">extends</span> AbstractMyRequestValidator&lt;MyRequestValidator&gt; {

 }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation-details"><a class="anchor" href="#implementation-details"></a>6. Implementation details</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the internal implementation details of this library.</p>
</div>
<div class="sect2">
<h3 id="problem-type-registry"><a class="anchor" href="#problem-type-registry"></a>6.1. @ProblemType and ProblemTypeRegistry</h3>
<div class="paragraph">
<p>This library makes use of Jackson&#8217;s <a href="https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization">polymorphic deserialization</a> feature, so the Jackson ObjectMapper knows which problem type to instantiate when deserializing a problem.
The problem subclasses have their problem type URI configured in the
<a href="apidocs/io/github/belgif/rest/problem/api/ProblemType.html"><code>@ProblemType</code></a> annotation.</p>
</div>
<div class="paragraph">
<p>These are discovered automagically by a <a href="apidocs/io/github/belgif/rest/problem/registry/ProblemTypeRegistry.html"><code>ProblemTypeRegistry</code></a> implementation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in a <strong>Jakarta EE</strong> container, this is done by the <a href="apidocs/io/github/belgif/rest/problem/registry/CdiProblemTypeRegistry.html"><code>CdiProblemTypeRegistry</code></a> CDI extension, integrated with the Jackson ObjectMapper by the CdiProblemModule.</p>
</li>
<li>
<p>in a <strong>Spring Boot</strong> container, this is done by the <a href="apidocs/io/github/belgif/rest/problem/registry/SpringProblemTypeRegistry.html"><code>SpringProblemTypeRegistry</code></a>, integrated with the Jackson ObjectMapper by the SpringProblemModule.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When deserializing a problem for which no corresponding <code>@ProblemType</code> was found on the classpath, a <a href="apidocs/io/github/belgif/rest/problem/DefaultProblem.html">DefaultProblem</a> is used as fallback.</p>
</div>
</div>
<div class="sect2">
<h3 id="belgif-rest-problem-java-ee"><a class="anchor" href="#belgif-rest-problem-java-ee"></a>6.2. belgif-rest-problem-java-ee</h3>
<div class="paragraph">
<p>This module provides components that handle Java EE / Jakarta EE integration with the belgif-rest-problem library:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>CdiProblemTypeRegistry:</strong> ProblemTypeRegistry implementation that uses CDI component scanning to detect @ProblemType annotations.</p>
</li>
<li>
<p><strong>CdiProblemModule:</strong> a Jackson Module that registers the CdiProblemTypeRegistry.</p>
</li>
<li>
<p><strong>ProblemObjectMapperContextResolver:</strong> a JAX-RS ContextResolver for a Jackson ObjectMapper with the CdiProblemModule registered.
Its priority of "Priorities.USER + 200" allows it to be overridden if needed by the client application.</p>
</li>
<li>
<p><strong>ConstraintViolationExceptionMapper:</strong> a JAX-RS ExceptionMapper that converts ConstraintViolationException to an HTTP 400 BadRequestProblem.</p>
</li>
<li>
<p><strong>ProblemExceptionMapper:</strong> a JAX-RS ExceptionMapper that converts Problem exceptions to a proper application/problem+json response.</p>
</li>
<li>
<p><strong>WebApplicationExceptionMapper:</strong> a JAX-RS ExceptionMapper that handles WebApplicationExceptions thrown by the JAX-RS runtime itself, to prevent them from being handled by the DefaultExceptionMapper.</p>
</li>
<li>
<p><strong>DefaultExceptionMapper:</strong> a JAX-RS ExceptionMapper that converts any other uncaught exception to an HTTP 500 InternalServerErrorProblem.</p>
</li>
<li>
<p><strong>EJBExceptionMapper:</strong> a JAX-RS ExceptionMapper that handles EJBExceptions.
Routes to ProblemExceptionMapper when the EJBException is caused by a Problem exception.
Otherwise, routes to DefaultExceptionMapper.</p>
</li>
<li>
<p><strong>JaxRsParameterNameProvider</strong>: a bean validation ParameterNameProvider that retrieves parameter names from JAX-RS annotations</p>
</li>
<li>
<p><strong>JAX-RS Client integration:</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>ProblemClientResponseFilter:</strong> JAX-RS ClientResponseFilter that converts problem response to a ProblemWrapper exception.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
In accordance with the spec, any exception thrown by a JAX-RS ClientResponseFilter gets wrapped in a ResponseProcessingException, unless the exception itself is a ResponseProcessingException.
For that reason, the ProblemClientResponseFilter wraps the Problem exception in a "ProblemWrapper" class that extends ResponseProcessingException.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>ProblemSupport:</strong> for programmatically enabling unwrapping of ProblemWrapper to Problem exceptions on a JAX-RS Client (also works for RESTEasy Proxy Framework clients).</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> Client client = ProblemSupport.enable(ClientBuilder.newClient());</code></pre>
</div>
</div>
</li>
<li>
<p><strong>ProblemClientBuilderProducer:</strong> makes ProblemSupport-enabled ClientBuilder and Client beans available for CDI @Inject</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span>
<span class="directive">public</span> <span class="type">void</span> setClient(Client client) {
    <span class="local-variable">this</span>.client = client;
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>MicroProfile REST Client integration:</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>ProblemResponseExceptionMapper:</strong> a ResponseExceptionMapper that converts problem responses to Problem exceptions.</p>
</li>
<li>
<p><strong>ProblemRestClientListener:</strong> a RestClientListener that registers the ProblemObjectMapperContextResolver and ProblemResponseExceptionMapper.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Jakarta EE 9+</strong>: the main belgif-rest-problem-java-ee artifact targets Java EE (javax package namespace).
A secondary artifact that targets Jakarta EE 9+ (jakarta package namespace) is available with <code>&lt;classifier&gt;jakarta&lt;/classifier&gt;</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="belgif-rest-problem-spring"><a class="anchor" href="#belgif-rest-problem-spring"></a>6.3. belgif-rest-problem-spring</h3>
<div class="paragraph">
<p>This module provides auto-configuration for components that handle Spring Boot integration with the belgif-rest-problem library:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>SpringProblemTypeRegistry:</strong> ProblemTypeRegistry implementation that uses classpath scanning to detect @ProblemType annotations.
By default, only package <code>io.github.belgif.rest.problem</code> is scanned for @ProblemType annotations.
Additional packages to scan can be configured in your application.properties:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">io.github.belgif.rest.problem.scan-additional-problem-packages=com.acme.custom</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>SpringProblemModule:</strong> a Jackson Module that registers the SpringProblemTypeRegistry.</p>
</li>
<li>
<p><strong>ProblemExceptionHandler:</strong> an exception handler for RestControllers that handles the response serialization for Problem exceptions, and converts all other uncaught exceptions to an InternalServerErrorProblem.</p>
</li>
<li>
<p><strong>BeanValidationExceptionsHandler:</strong> an exception handler for RestControllers that converts bean validation related exceptions to HTTP 400 BadRequestProblem.</p>
</li>
<li>
<p><strong>InvalidRequestExceptionHandler:</strong> an exception handler for the <a href="https://bitbucket.org/atlassian/swagger-request-validator/src/master/">Atlassian swagger-request-validator</a> that converts InvalidRequestException to the correct Problem type.</p>
</li>
<li>
<p><strong>RoutingExceptionsHandler:</strong> an exception handler for RestControllers that converts routing related validation exceptions to HTTP 400 BadRequestProblem.</p>
</li>
<li>
<p><strong>ProblemResponseErrorHandler:</strong> a RestTemplate error handler that converts problem responses to Problem exceptions.</p>
</li>
<li>
<p><strong>ProblemRestTemplateCustomizer:</strong> a RestTemplateCustomizer that registers the ProblemResponseErrorHandler.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In general, these components make it possible to use standard java exception handling (throw and try-catch) for dealing with problems in Spring Boot REST APIs.</p>
</div>
<div class="sect3">
<h4 id="belgif-rest-problem-spring-boot-2"><a class="anchor" href="#belgif-rest-problem-spring-boot-2"></a>6.3.1. belgif-rest-problem-spring-boot-2</h4>
<div class="paragraph">
<p>Rather than depending on <a href="#belgif-rest-problem-spring">belgif-rest-problem-spring</a> directly, Spring Boot 2.x users are recommended to depend on <code>belgif-rest-problem-spring-boot-2</code>, which adds some Spring Boot 2.x specific integrations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ProblemWebClientCustomizer:</strong> a WebClientCustomizer that registers a filter that converts problem responses to Problem exceptions.
This handles integration with the <a href="https://docs.spring.io/spring-framework/reference/web/webflux-webclient.html">Reactive WebClient</a>.</p>
</li>
<li>
<p><strong>AnnotationParameterNameDiscoverer:</strong> a bean validation ParameterNameDiscoverer that retrieves parameter names from Spring MVC annotations</p>
</li>
<li>
<p><strong>ProblemValidatorConfiguration:</strong> registers a LocalValidatorFactoryBean with the AnnotationParameterNameDiscoverer</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="belgif-rest-problem-spring-boot-3"><a class="anchor" href="#belgif-rest-problem-spring-boot-3"></a>6.3.2. belgif-rest-problem-spring-boot-3</h4>
<div class="paragraph">
<p>Rather than depending on <a href="#belgif-rest-problem-spring">belgif-rest-problem-spring</a> directly, Spring Boot 3.x users are recommended to depend on <code>belgif-rest-problem-spring-boot-3</code>, which adds some Spring Boot 3.x specific integrations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ProblemWebClientCustomizer:</strong> a WebClientCustomizer that registers a filter that converts problem responses to Problem exceptions.
This handles integration with the <a href="https://docs.spring.io/spring-framework/reference/web/webflux-webclient.html">Reactive WebClient</a>.</p>
</li>
<li>
<p><strong>NoResourceFoundExceptionHandler:</strong> an exception handler for RestControllers that converts NoResourceFoundException to HTTP 404 ResourceNotFoundProblem.</p>
</li>
<li>
<p><strong>ProblemRestClientCustomizer:</strong> a RestClientCustomizer that registers the ProblemResponseErrorHandler.</p>
</li>
<li>
<p><strong>AnnotationParameterNameProvider:</strong> a bean validation ParameterNameProvider that retrieves parameter names from Spring MVC annotations</p>
</li>
<li>
<p><strong>ProblemValidationConfigurationCustomizer:</strong> a ValidationConfigurationCustomizer that registers the AnnotationParameterNameProvider</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version latest<br>
</div>
</div>
</body>
</html>